<!DOCTYPE html>
<html>
  <head>
    <title>Stat 585 - Data Types</title>
    <meta charset="utf-8">
    <meta name="author" content="Heike Hofmann" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="tweaks.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Stat 585 - Data Types
### Heike Hofmann

---

class: center, middle




# Data Types

---

## Basic Data Types

Name | Example
---- | -------
numeric | 2.93
integer | 2
character | "hello world"
logical | TRUE

Convert between data types with `as.XXX`, e.g. `as.numeric("2.394")` or `as.character("3.14159")`

Test whether something has a data type with `is.XXX`, e.g. `is.character("fuzzy puppies")` or `is.logical("abcde")`

---

## Basic Data Structures

Data structures hold one or more basic data types and may have multiple dimensions:

   | One type | Multiple Types
-- | -------- | --------------
1D | Atomic vector | List
2D | Matrix | Data frame
nD | Array | 

An individual value ("scalar" in other languages) is a length one vector in R

---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:




```r
## library(tidyverse)
data("mtcars")
str(mtcars)
```

```
## 'data.frame':	32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
```
---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:

```r
data("eurodist")
str(eurodist)
```

```
##  'dist' num [1:210] 3313 2963 3175 3339 2762 ...
##  - attr(*, "Size")= num 21
##  - attr(*, "Labels")= chr [1:21] "Athens" "Barcelona" "Brussels" "Calais" ...
```
---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:

```r
data("discoveries")
str(discoveries)
```

```
##  Time-Series [1:100] from 1860 to 1959: 5 3 0 2 0 3 2 3 6 1 ...
```
---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:

```r
data("occupationalStatus")
str(occupationalStatus)
```

```
##  'table' int [1:8, 1:8] 50 16 12 11 2 12 0 0 19 40 ...
##  - attr(*, "dimnames")=List of 2
##   ..$ origin     : chr [1:8] "1" "2" "3" "4" ...
##   ..$ destination: chr [1:8] "1" "2" "3" "4" ...
```
---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:

```r
str(c(5:15))
```

```
##  int [1:11] 5 6 7 8 9 10 11 12 13 14 ...
```

```r
str(month.name)
```

```
##  chr [1:12] "January" "February" "March" "April" "May" ...
```

```r
str(3)
```

```
##  num 3
```

```r
str(mean)
```

```
## function (x, ...)
```

---
class: center, middle
# Factors

---

## Factors

Some data has both names and a defined numerical ordering:

```r
month.name
```

```
##  [1] "January"   "February"  "March"     "April"    
##  [5] "May"       "June"      "July"      "August"   
##  [9] "September" "October"   "November"  "December"
```

Factors are used to store both the numerical values and the associated labels:

```r
factor(month.name)
```

```
##  [1] January   February  March     April     May      
##  [6] June      July      August    September October  
## [11] November  December 
## 12 Levels: April August December February January ... September
```

By default, R uses alphabetical order for factors...

---

## Factors

```r
factor(month.name)
```

```
##  [1] January   February  March     April     May      
##  [6] June      July      August    September October  
## [11] November  December 
## 12 Levels: April August December February January ... September
```

By default, R uses alphabetical order for factors...

Set level names to override the default ordering 

```r
months &lt;- factor(month.name, levels = month.name)
months
```

```
##  [1] January   February  March     April     May      
##  [6] June      July      August    September October  
## [11] November  December 
## 12 Levels: January February March April May June ... December
```


---

## Factors

You can access the labels of a factor using `levels()`

```r
levels(months)
```

```
##  [1] "January"   "February"  "March"     "April"    
##  [5] "May"       "June"      "July"      "August"   
##  [9] "September" "October"   "November"  "December"
```

You can access the order of the factor using `as.numeric()`:

```r
as.numeric(months)
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12
```

---

## Type Conversions

```r
# Get a numeric vector
x &lt;- sample(1:10, 5)
x
```

```
## [1] 7 6 8 1 9
```

```r
# Create factor from numeric vector
fac_x &lt;- factor(x)
fac_x
```

```
## [1] 7 6 8 1 9
## Levels: 1 6 7 8 9
```

```r
# Convert factor to numeric
as.numeric(fac_x) # Huh?
```

```
## [1] 3 2 4 1 5
```
`as.numeric()` converts factors to their level numbers, not to their labels

---

## Type Conversions


```r
as.character(fac_x)
```

```
## [1] "7" "6" "8" "1" "9"
```

```r
as.numeric(as.character(fac_x))
```

```
## [1] 7 6 8 1 9
```
`as.character()` extracts the labels; you can then use `as.numeric` to get the labels' numeric value.

---
class:center, middle
# Lists

---

## Data frames


```r
simple_df &lt;- data.frame(letters = letters, order = 1:26)
str(simple_df)
```

```
## 'data.frame':	26 obs. of  2 variables:
##  $ letters: Factor w/ 26 levels "a","b","c","d",..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ order  : int  1 2 3 4 5 6 7 8 9 10 ...
```

```r
mode(simple_df)
```

```
## [1] "list"
```

Data frames are lists of vectors where each vector is constrained to have the same length

---

## "Hidden" Lists

We could convert the data frame to a list by changing its class:


```r
class(simple_df) &lt;- "list"
simple_df
```

```
## $letters
##  [1] a b c d e f g h i j k l m n o p q r s t u v w x y z
## 26 Levels: a b c d e f g h i j k l m n o p q r s t u ... z
## 
## $order
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18
## [19] 19 20 21 22 23 24 25 26
## 
## attr(,"row.names")
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18
## [19] 19 20 21 22 23 24 25 26
```

---

## Examining Lists

```r
library(repurrrsive)
data(got_chars) # Game of Thrones characters
str(got_chars)
```

```
## List of 30
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1022"
##   ..$ id         : int 1022
##   ..$ name       : chr "Theon Greyjoy"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Ironborn"
##   ..$ born       : chr "In 278 AC or 279 AC, at Pyke"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:3] "Prince of Winterfell" "Captain of Sea Bitch" "Lord of the Iron Islands (by law of the green lands)"
##   ..$ aliases    : chr [1:4] "Prince of Fools" "Theon Turncloak" "Reek" "Theon Kinslayer"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Greyjoy of Pyke"
##   ..$ books      : chr [1:3] "A Game of Thrones" "A Storm of Swords" "A Feast for Crows"
##   ..$ povBooks   : chr [1:2] "A Clash of Kings" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Alfie Allen"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1052"
##   ..$ id         : int 1052
##   ..$ name       : chr "Tyrion Lannister"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr ""
##   ..$ born       : chr "In 273 AC, at Casterly Rock"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:2] "Acting Hand of the King (former)" "Master of Coin (former)"
##   ..$ aliases    : chr [1:11] "The Imp" "Halfman" "The boyman" "Giant of Lannister" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/2044"
##   ..$ allegiances: chr "House Lannister of Casterly Rock"
##   ..$ books      : chr [1:2] "A Feast for Crows" "The World of Ice and Fire"
##   ..$ povBooks   : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Peter Dinklage"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1074"
##   ..$ id         : int 1074
##   ..$ name       : chr "Victarion Greyjoy"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Ironborn"
##   ..$ born       : chr "In 268 AC or before, at Pyke"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:2] "Lord Captain of the Iron Fleet" "Master of the Iron Victory"
##   ..$ aliases    : chr "The Iron Captain"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Greyjoy of Pyke"
##   ..$ books      : chr [1:3] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords"
##   ..$ povBooks   : chr [1:2] "A Feast for Crows" "A Dance with Dragons"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr ""
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1109"
##   ..$ id         : int 1109
##   ..$ name       : chr "Will"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr ""
##   ..$ born       : chr ""
##   ..$ died       : chr "In 297 AC, at Haunted Forest"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr ""
##   ..$ aliases    : chr ""
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: list()
##   ..$ books      : chr "A Clash of Kings"
##   ..$ povBooks   : chr "A Game of Thrones"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr "Bronson Webb"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1166"
##   ..$ id         : int 1166
##   ..$ name       : chr "Areo Hotah"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Norvoshi"
##   ..$ born       : chr "In 257 AC or before, at Norvos"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr "Captain of the Guard at Sunspear"
##   ..$ aliases    : chr ""
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Nymeros Martell of Sunspear"
##   ..$ books      : chr [1:3] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords"
##   ..$ povBooks   : chr [1:2] "A Feast for Crows" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:2] "Season 5" "Season 6"
##   ..$ playedBy   : chr "DeObia Oparei"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1267"
##   ..$ id         : int 1267
##   ..$ name       : chr "Chett"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr ""
##   ..$ born       : chr "At Hag's Mire"
##   ..$ died       : chr "In 299 AC, at Fist of the First Men"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr ""
##   ..$ aliases    : chr ""
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: list()
##   ..$ books      : chr [1:2] "A Game of Thrones" "A Clash of Kings"
##   ..$ povBooks   : chr "A Storm of Swords"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr ""
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1295"
##   ..$ id         : int 1295
##   ..$ name       : chr "Cressen"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr ""
##   ..$ born       : chr "In 219 AC or 220 AC"
##   ..$ died       : chr "In 299 AC, at Dragonstone"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr "Maester"
##   ..$ aliases    : chr ""
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: list()
##   ..$ books      : chr [1:2] "A Storm of Swords" "A Feast for Crows"
##   ..$ povBooks   : chr "A Clash of Kings"
##   ..$ tvSeries   : chr "Season 2"
##   ..$ playedBy   : chr "Oliver Ford"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/130"
##   ..$ id         : int 130
##   ..$ name       : chr "Arianne Martell"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr "Dornish"
##   ..$ born       : chr "In 276 AC, at Sunspear"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr "Princess of Dorne"
##   ..$ aliases    : chr ""
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Nymeros Martell of Sunspear"
##   ..$ books      : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ povBooks   : chr "A Feast for Crows"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr ""
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1303"
##   ..$ id         : int 1303
##   ..$ name       : chr "Daenerys Targaryen"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr "Valyrian"
##   ..$ born       : chr "In 284 AC, at Dragonstone"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:5] "Queen of the Andals and the Rhoynar and the First Men, Lord of the Seven Kingdoms" "Khaleesi of the Great Grass Sea" "Breaker of Shackles/Chains" "Queen of Meereen" ...
##   ..$ aliases    : chr [1:11] "Dany" "Daenerys Stormborn" "The Unburnt" "Mother of Dragons" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/1346"
##   ..$ allegiances: chr "House Targaryen of King's Landing"
##   ..$ books      : chr "A Feast for Crows"
##   ..$ povBooks   : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Emilia Clarke"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/1319"
##   ..$ id         : int 1319
##   ..$ name       : chr "Davos Seaworth"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Westeros"
##   ..$ born       : chr "In 260 AC or before, at King's Landing"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:4] "Ser" "Lord of the Rainwood" "Admiral of the Narrow Sea" "Hand of the King"
##   ..$ aliases    : chr [1:5] "Onion Knight" "Davos Shorthand" "Ser Onions" "Onion Lord" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/1676"
##   ..$ allegiances: chr [1:2] "House Baratheon of Dragonstone" "House Seaworth of Cape Wrath"
##   ..$ books      : chr "A Feast for Crows"
##   ..$ povBooks   : chr [1:3] "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:5] "Season 2" "Season 3" "Season 4" "Season 5" ...
##   ..$ playedBy   : chr "Liam Cunningham"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/148"
##   ..$ id         : int 148
##   ..$ name       : chr "Arya Stark"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr "Northmen"
##   ..$ born       : chr "In 289 AC, at Winterfell"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr "Princess"
##   ..$ aliases    : chr [1:16] "Arya Horseface" "Arya Underfoot" "Arry" "Lumpyface" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Stark of Winterfell"
##   ..$ books      : list()
##   ..$ povBooks   : chr [1:5] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Feast for Crows" ...
##   ..$ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Maisie Williams"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/149"
##   ..$ id         : int 149
##   ..$ name       : chr "Arys Oakheart"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Reach"
##   ..$ born       : chr "At Old Oak"
##   ..$ died       : chr "In 300 AC, at the Greenblood"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr "Ser"
##   ..$ aliases    : chr ""
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Oakheart of Old Oak"
##   ..$ books      : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ povBooks   : chr "A Feast for Crows"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr ""
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/150"
##   ..$ id         : int 150
##   ..$ name       : chr "Asha Greyjoy"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr "Ironborn"
##   ..$ born       : chr "In 275 AC or 276 AC, at Pyke"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:3] "Princess" "Captain of the Black Wind" "Conqueror of Deepwood Motte"
##   ..$ aliases    : chr [1:2] "Esgred" "The Kraken's Daughter"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/1372"
##   ..$ allegiances: chr [1:2] "House Greyjoy of Pyke" "House Ironmaker"
##   ..$ books      : chr [1:2] "A Game of Thrones" "A Clash of Kings"
##   ..$ povBooks   : chr [1:2] "A Feast for Crows" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:3] "Season 2" "Season 3" "Season 4"
##   ..$ playedBy   : chr "Gemma Whelan"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/168"
##   ..$ id         : int 168
##   ..$ name       : chr "Barristan Selmy"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Westeros"
##   ..$ born       : chr "In 237 AC"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:2] "Ser" "Hand of the Queen"
##   ..$ aliases    : chr [1:5] "Barristan the Bold" "Arstan Whitebeard" "Ser Grandfather" "Barristan the Old" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr [1:2] "House Selmy of Harvest Hall" "House Targaryen of King's Landing"
##   ..$ books      : chr [1:5] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Feast for Crows" ...
##   ..$ povBooks   : chr "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:4] "Season 1" "Season 3" "Season 4" "Season 5"
##   ..$ playedBy   : chr "Ian McElhinney"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/2066"
##   ..$ id         : int 2066
##   ..$ name       : chr "Varamyr"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Free Folk"
##   ..$ born       : chr "At a village Beyond the Wall"
##   ..$ died       : chr "In 300 AC, at a village Beyond the Wall"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr ""
##   ..$ aliases    : chr [1:3] "Varamyr Sixskins" "Haggon" "Lump"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: list()
##   ..$ books      : chr "A Storm of Swords"
##   ..$ povBooks   : chr "A Dance with Dragons"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr ""
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/208"
##   ..$ id         : int 208
##   ..$ name       : chr "Brandon Stark"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Northmen"
##   ..$ born       : chr "In 290 AC, at Winterfell"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr "Prince of Winterfell"
##   ..$ aliases    : chr [1:3] "Bran" "Bran the Broken" "The Winged Wolf"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Stark of Winterfell"
##   ..$ books      : chr "A Feast for Crows"
##   ..$ povBooks   : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:5] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Isaac Hempstead-Wright"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/216"
##   ..$ id         : int 216
##   ..$ name       : chr "Brienne of Tarth"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr ""
##   ..$ born       : chr "In 280 AC"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr ""
##   ..$ aliases    : chr [1:3] "The Maid of Tarth" "Brienne the Beauty" "Brienne the Blue"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr [1:3] "House Baratheon of Storm's End" "House Stark of Winterfell" "House Tarth of Evenfall Hall"
##   ..$ books      : chr [1:3] "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ povBooks   : chr "A Feast for Crows"
##   ..$ tvSeries   : chr [1:5] "Season 2" "Season 3" "Season 4" "Season 5" ...
##   ..$ playedBy   : chr "Gwendoline Christie"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/232"
##   ..$ id         : int 232
##   ..$ name       : chr "Catelyn Stark"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr "Rivermen"
##   ..$ born       : chr "In 264 AC, at Riverrun"
##   ..$ died       : chr "In 299 AC, at the Twins"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr "Lady of Winterfell"
##   ..$ aliases    : chr [1:5] "Catelyn Tully" "Lady Stoneheart" "The Silent Sistet" "Mother Mercilesr" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/339"
##   ..$ allegiances: chr [1:2] "House Stark of Winterfell" "House Tully of Riverrun"
##   ..$ books      : chr [1:2] "A Feast for Crows" "A Dance with Dragons"
##   ..$ povBooks   : chr [1:3] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords"
##   ..$ tvSeries   : chr [1:3] "Season 1" "Season 2" "Season 3"
##   ..$ playedBy   : chr "Michelle Fairley"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/238"
##   ..$ id         : int 238
##   ..$ name       : chr "Cersei Lannister"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr "Westerman"
##   ..$ born       : chr "In 266 AC, at Casterly Rock"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:5] "Light of the West" "Queen Dowager" "Protector of the Realm" "Lady of Casterly Rock" ...
##   ..$ aliases    : list()
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/901"
##   ..$ allegiances: chr "House Lannister of Casterly Rock"
##   ..$ books      : chr [1:3] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords"
##   ..$ povBooks   : chr [1:2] "A Feast for Crows" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Lena Headey"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/339"
##   ..$ id         : int 339
##   ..$ name       : chr "Eddard Stark"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Northmen"
##   ..$ born       : chr "In 263 AC, at Winterfell"
##   ..$ died       : chr "In 299 AC, at Great Sept of Baelor in King's Landing"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr [1:5] "Lord of Winterfell" "Warden of the North" "Hand of the King" "Protector of the Realm" ...
##   ..$ aliases    : chr [1:3] "Ned" "The Ned" "The Quiet Wolf"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/232"
##   ..$ allegiances: chr "House Stark of Winterfell"
##   ..$ books      : chr [1:5] "A Clash of Kings" "A Storm of Swords" "A Feast for Crows" "A Dance with Dragons" ...
##   ..$ povBooks   : chr "A Game of Thrones"
##   ..$ tvSeries   : chr [1:2] "Season 1" "Season 6"
##   ..$ playedBy   : chr [1:3] "Sean Bean" "Sebastian Croft" "Robert Aramayo"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/529"
##   ..$ id         : int 529
##   ..$ name       : chr "Jaime Lannister"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Westerlands"
##   ..$ born       : chr "In 266 AC, at Casterly Rock"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:3] "Ser" "Lord Commander of the Kingsguard" "Warden of the East (formerly)"
##   ..$ aliases    : chr [1:4] "The Kingslayer" "The Lion of Lannister" "The Young Lion" "Cripple"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Lannister of Casterly Rock"
##   ..$ books      : chr [1:2] "A Game of Thrones" "A Clash of Kings"
##   ..$ povBooks   : chr [1:3] "A Storm of Swords" "A Feast for Crows" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:5] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Nikolaj Coster-Waldau"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/576"
##   ..$ id         : int 576
##   ..$ name       : chr "Jon Connington"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Stormlands"
##   ..$ born       : chr "In or between 263 AC and 265 AC"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:3] "Lord of Griffin's Roost" "Hand of the King" "Hand of the True King"
##   ..$ aliases    : chr "Griffthe Mad King's Hand"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr [1:2] "House Connington of Griffin's Roost" "House Targaryen of King's Landing"
##   ..$ books      : chr [1:3] "A Storm of Swords" "A Feast for Crows" "The World of Ice and Fire"
##   ..$ povBooks   : chr "A Dance with Dragons"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr ""
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/583"
##   ..$ id         : int 583
##   ..$ name       : chr "Jon Snow"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Northmen"
##   ..$ born       : chr "In 283 AC"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr "Lord Commander of the Night's Watch"
##   ..$ aliases    : chr [1:8] "Lord Snow" "Ned Stark's Bastard" "The Snow of Winterfell" "The Crow-Come-Over" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Stark of Winterfell"
##   ..$ books      : chr "A Feast for Crows"
##   ..$ povBooks   : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Kit Harington"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/60"
##   ..$ id         : int 60
##   ..$ name       : chr "Aeron Greyjoy"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Ironborn"
##   ..$ born       : chr "In or between 269 AC and 273 AC, at Pyke"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr [1:2] "Priest of the Drowned God" "Captain of the Golden Storm (formerly)"
##   ..$ aliases    : chr [1:2] "The Damphair" "Aeron Damphair"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Greyjoy of Pyke"
##   ..$ books      : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Dance with Dragons"
##   ..$ povBooks   : chr "A Feast for Crows"
##   ..$ tvSeries   : chr "Season 6"
##   ..$ playedBy   : chr "Michael Feast"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/605"
##   ..$ id         : int 605
##   ..$ name       : chr "Kevan Lannister"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr ""
##   ..$ born       : chr "In 244 AC"
##   ..$ died       : chr "In 300 AC, at King's Landing"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr [1:4] "Ser" "Master of laws" "Lord Regent" "Protector of the Realm"
##   ..$ aliases    : chr ""
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/327"
##   ..$ allegiances: chr "House Lannister of Casterly Rock"
##   ..$ books      : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Feast for Crows"
##   ..$ povBooks   : chr "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:4] "Season 1" "Season 2" "Season 5" "Season 6"
##   ..$ playedBy   : chr "Ian Gelder"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/743"
##   ..$ id         : int 743
##   ..$ name       : chr "Melisandre"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr "Asshai"
##   ..$ born       : chr "At Unknown"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr ""
##   ..$ aliases    : chr [1:5] "The Red Priestess" "The Red Woman" "The King's Red Shadow" "Lady Red" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: list()
##   ..$ books      : chr [1:3] "A Clash of Kings" "A Storm of Swords" "A Feast for Crows"
##   ..$ povBooks   : chr "A Dance with Dragons"
##   ..$ tvSeries   : chr [1:5] "Season 2" "Season 3" "Season 4" "Season 5" ...
##   ..$ playedBy   : chr "Carice van Houten"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/751"
##   ..$ id         : int 751
##   ..$ name       : chr "Merrett Frey"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Rivermen"
##   ..$ born       : chr "In 262 AC"
##   ..$ died       : chr "In 300 AC, at Near Oldstones"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr ""
##   ..$ aliases    : chr "Merrett Muttonhead"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/712"
##   ..$ allegiances: chr "House Frey of the Crossing"
##   ..$ books      : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Feast for Crows" "A Dance with Dragons"
##   ..$ povBooks   : chr "A Storm of Swords"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr ""
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/844"
##   ..$ id         : int 844
##   ..$ name       : chr "Quentyn Martell"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Dornish"
##   ..$ born       : chr "In 281 AC, at Sunspear, Dorne"
##   ..$ died       : chr "In 300 AC, at Meereen"
##   ..$ alive      : logi FALSE
##   ..$ titles     : chr "Prince"
##   ..$ aliases    : chr [1:4] "Frog" "Prince Frog" "The prince who came too late" "The Dragonrider"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Nymeros Martell of Sunspear"
##   ..$ books      : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Feast for Crows"
##   ..$ povBooks   : chr "A Dance with Dragons"
##   ..$ tvSeries   : chr ""
##   ..$ playedBy   : chr ""
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/954"
##   ..$ id         : int 954
##   ..$ name       : chr "Samwell Tarly"
##   ..$ gender     : chr "Male"
##   ..$ culture    : chr "Andal"
##   ..$ born       : chr "In 283 AC, at Horn Hill"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr ""
##   ..$ aliases    : chr [1:7] "Sam" "Ser Piggy" "Prince Pork-chop" "Lady Piggy" ...
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr ""
##   ..$ allegiances: chr "House Tarly of Horn Hill"
##   ..$ books      : chr [1:3] "A Game of Thrones" "A Clash of Kings" "A Dance with Dragons"
##   ..$ povBooks   : chr [1:2] "A Storm of Swords" "A Feast for Crows"
##   ..$ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "John Bradley-West"
##  $ :List of 18
##   ..$ url        : chr "https://www.anapioficeandfire.com/api/characters/957"
##   ..$ id         : int 957
##   ..$ name       : chr "Sansa Stark"
##   ..$ gender     : chr "Female"
##   ..$ culture    : chr "Northmen"
##   ..$ born       : chr "In 286 AC, at Winterfell"
##   ..$ died       : chr ""
##   ..$ alive      : logi TRUE
##   ..$ titles     : chr "Princess"
##   ..$ aliases    : chr [1:3] "Little bird" "Alayne Stone" "Jonquil"
##   ..$ father     : chr ""
##   ..$ mother     : chr ""
##   ..$ spouse     : chr "https://www.anapioficeandfire.com/api/characters/1052"
##   ..$ allegiances: chr [1:2] "House Baelish of Harrenhal" "House Stark of Winterfell"
##   ..$ books      : chr "A Dance with Dragons"
##   ..$ povBooks   : chr [1:4] "A Game of Thrones" "A Clash of Kings" "A Storm of Swords" "A Feast for Crows"
##   ..$ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##   ..$ playedBy   : chr "Sophie Turner"
```

---

## Examining Lists

RStudio has a built-in list viewer
![Screenshot of list viewer](list_viewer.png)

---

## Extracting Elements from Lists


```r
theon &lt;- got_chars[[1]] # Gets 1st list element
str(theon) 
## List of 18
##  $ url        : chr "https://www.anapioficeandfire.com/api/characters/1022"
##  $ id         : int 1022
##  $ name       : chr "Theon Greyjoy"
##  $ gender     : chr "Male"
##  $ culture    : chr "Ironborn"
##  $ born       : chr "In 278 AC or 279 AC, at Pyke"
##  $ died       : chr ""
##  $ alive      : logi TRUE
##  $ titles     : chr [1:3] "Prince of Winterfell" "Captain of Sea Bitch" "Lord of the Iron Islands (by law of the green lands)"
##  $ aliases    : chr [1:4] "Prince of Fools" "Theon Turncloak" "Reek" "Theon Kinslayer"
##  $ father     : chr ""
##  $ mother     : chr ""
##  $ spouse     : chr ""
##  $ allegiances: chr "House Greyjoy of Pyke"
##  $ books      : chr [1:3] "A Game of Thrones" "A Storm of Swords" "A Feast for Crows"
##  $ povBooks   : chr [1:2] "A Clash of Kings" "A Dance with Dragons"
##  $ tvSeries   : chr [1:6] "Season 1" "Season 2" "Season 3" "Season 4" ...
##  $ playedBy   : chr "Alfie Allen"
```

---

## Extracting Elements from Lists


```r
# Extracting elements by name:
theon[["tvSeries"]]
## [1] "Season 1" "Season 2" "Season 3" "Season 4" "Season 5"
## [6] "Season 6"
theon["culture"]
## $culture
## [1] "Ironborn"
theon$alive
## [1] TRUE
```


```r
# Extracting elements by position: 
theon[[3]]
## [1] "Theon Greyjoy"
theon[3:5]
## $name
## [1] "Theon Greyjoy"
## 
## $gender
## [1] "Male"
## 
## $culture
## [1] "Ironborn"
```

---

## Indexing

So [what's the difference](https://cran.r-project.org/doc/manuals/R-lang.html#Indexing) between `x$.`, `x[[.]]` and `x[.]`?

`x[[.]]`
- Returns a single element
- Selection by numerical or character index

`x[.]`
- Returns a list
- Allows indexing by vectors

`x$.`
- Returns a list component
- Indexing by component name (doesn't work on unnamed lists)

---

## Extracting Elements from Lists
The `magrittr` package contains a collection of pipe-friendly replacements for base R functions.


```r
library(magrittr)
got_chars %&gt;%
  extract2(1) %&gt;% # extract2 is the pipe version of [[.]]
  extract(3) # extract is the pipe version of [.]
```

```
## $name
## [1] "Theon Greyjoy"
```

```r
# unlist() creates a vector from a list by concatenating 
# and type-converting the list elements
got_chars %&gt;% extract2(1) %&gt;% extract(c(3, 10)) %&gt;% unlist()
```

```
##              name          aliases1          aliases2 
##   "Theon Greyjoy" "Prince of Fools" "Theon Turncloak" 
##          aliases3          aliases4 
##            "Reek" "Theon Kinslayer"
```

---
class: inverse
## Your Turn

Explore the `got_chars` object from the `repurrrsive` package. 


```r
## devtools::install_github("jennybc/repurrrsive")
library(repurrrsive)
data("got_chars")
```

1. Can it be converted to a data frame? Why or why not?

2. Use base R operators (`[[`, `[`, and `$`) to determine who the 8th character in the list is, and what their allegiance is.

3. Use `magrittr` operators (`extract2` and `extract`) to determine who the 5th character in the list is, and whether they are currently alive.

---

## Working with Lists

The `purrr` [package](http://purrr.tidyverse.org/) contains tools for working with lists more easily. It is part of the tidyverse. 

Purrr functions operate by applying a function to every element (or chunk) of a list or data frame. 
`map` is the basic function and returns the function's results as a list (by default). 


```r
library(purrr)

# Get the length of each list in got_chars
map(got_chars, length) 
```

```
## [[1]]
## [1] 18
## 
## [[2]]
## [1] 18
## 
## [[3]]
## [1] 18
## 
## [[4]]
## [1] 18
## 
## [[5]]
## [1] 18
## 
## [[6]]
## [1] 18
## 
## [[7]]
## [1] 18
## 
## [[8]]
## [1] 18
## 
## [[9]]
## [1] 18
## 
## [[10]]
## [1] 18
## 
## [[11]]
## [1] 18
## 
## [[12]]
## [1] 18
## 
## [[13]]
## [1] 18
## 
## [[14]]
## [1] 18
## 
## [[15]]
## [1] 18
## 
## [[16]]
## [1] 18
## 
## [[17]]
## [1] 18
## 
## [[18]]
## [1] 18
## 
## [[19]]
## [1] 18
## 
## [[20]]
## [1] 18
## 
## [[21]]
## [1] 18
## 
## [[22]]
## [1] 18
## 
## [[23]]
## [1] 18
## 
## [[24]]
## [1] 18
## 
## [[25]]
## [1] 18
## 
## [[26]]
## [1] 18
## 
## [[27]]
## [1] 18
## 
## [[28]]
## [1] 18
## 
## [[29]]
## [1] 18
## 
## [[30]]
## [1] 18
```

---

## Working with Lists

Specify the type using `map_int`, `map_chr`, `map_df`, and others


```r
map_int(got_chars, length)
```

```
##  [1] 18 18 18 18 18 18 18 18 18 18 18 18 18 18 18 18 18 18
## [19] 18 18 18 18 18 18 18 18 18 18 18 18
```

```r
# Map names() to a data frame column
map_dfc(got_chars, names)
```

```
## # A tibble: 18 x 30
##    V1     V2     V3     V4     V5    V6    V7    V8    V9   
##    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 url    url    url    url    url   url   url   url   url  
##  2 id     id     id     id     id    id    id    id    id   
##  3 name   name   name   name   name  name  name  name  name 
##  4 gender gender gender gender gend… gend… gend… gend… gend…
##  5 cultu… cultu… cultu… cultu… cult… cult… cult… cult… cult…
##  6 born   born   born   born   born  born  born  born  born 
##  7 died   died   died   died   died  died  died  died  died 
##  8 alive  alive  alive  alive  alive alive alive alive alive
##  9 titles titles titles titles titl… titl… titl… titl… titl…
## 10 alias… alias… alias… alias… alia… alia… alia… alia… alia…
## 11 father father father father fath… fath… fath… fath… fath…
## 12 mother mother mother mother moth… moth… moth… moth… moth…
## 13 spouse spouse spouse spouse spou… spou… spou… spou… spou…
## 14 alleg… alleg… alleg… alleg… alle… alle… alle… alle… alle…
## 15 books  books  books  books  books books books books books
## 16 povBo… povBo… povBo… povBo… povB… povB… povB… povB… povB…
## 17 tvSer… tvSer… tvSer… tvSer… tvSe… tvSe… tvSe… tvSe… tvSe…
## 18 playe… playe… playe… playe… play… play… play… play… play…
## # … with 21 more variables: V10 &lt;chr&gt;, V11 &lt;chr&gt;,
## #   V12 &lt;chr&gt;, V13 &lt;chr&gt;, V14 &lt;chr&gt;, V15 &lt;chr&gt;, V16 &lt;chr&gt;,
## #   V17 &lt;chr&gt;, V18 &lt;chr&gt;, V19 &lt;chr&gt;, V20 &lt;chr&gt;, V21 &lt;chr&gt;,
## #   V22 &lt;chr&gt;, V23 &lt;chr&gt;, V24 &lt;chr&gt;, V25 &lt;chr&gt;, V26 &lt;chr&gt;,
## #   V27 &lt;chr&gt;, V28 &lt;chr&gt;, V29 &lt;chr&gt;, V30 &lt;chr&gt;
```

---

## Working with Lists

Purrr comes with a few shortcuts, too:


```r
# For each element in got_chars, get the "name" element
map_chr(got_chars, "name")
```

```
##  [1] "Theon Greyjoy"      "Tyrion Lannister"  
##  [3] "Victarion Greyjoy"  "Will"              
##  [5] "Areo Hotah"         "Chett"             
##  [7] "Cressen"            "Arianne Martell"   
##  [9] "Daenerys Targaryen" "Davos Seaworth"    
## [11] "Arya Stark"         "Arys Oakheart"     
## [13] "Asha Greyjoy"       "Barristan Selmy"   
## [15] "Varamyr"            "Brandon Stark"     
## [17] "Brienne of Tarth"   "Catelyn Stark"     
## [19] "Cersei Lannister"   "Eddard Stark"      
## [21] "Jaime Lannister"    "Jon Connington"    
## [23] "Jon Snow"           "Aeron Greyjoy"     
## [25] "Kevan Lannister"    "Melisandre"        
## [27] "Merrett Frey"       "Quentyn Martell"   
## [29] "Samwell Tarly"      "Sansa Stark"
```

---

## Working with Lists

Purrr comes with a few shortcuts, too:


```r
# For each element in got_chars, get the 1st element
map_chr(got_chars[1:5], 1)
```

```
## [1] "https://www.anapioficeandfire.com/api/characters/1022"
## [2] "https://www.anapioficeandfire.com/api/characters/1052"
## [3] "https://www.anapioficeandfire.com/api/characters/1074"
## [4] "https://www.anapioficeandfire.com/api/characters/1109"
## [5] "https://www.anapioficeandfire.com/api/characters/1166"
```

---
class:inverse
## Your Turn

The `gh_users` data in the `repurrrsive` package has information about 6 github users. 


```r
data(gh_users)
```

1. Use `bind_cols` from the dplyr package and appropriate `map_*` functions to assemble a data frame of github users. Which columns cannot be easily included?

2. How many of the github users indicate that they are hireable?
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
