<!DOCTYPE html>
<html>
  <head>
    <title>Stat 585 - Data Types</title>
    <meta charset="utf-8">
    <meta name="author" content="Heike Hofmann" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="tweaks.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Stat 585 - Data Types
### Heike Hofmann

---

class: center, middle




# Data Types

---

## Basic Data Types

Name | Example
---- | -------
numeric | 2.93
integer | 2
character | "hello world"
logical | TRUE

Convert between data types with `as.XXX`, e.g. `as.numeric("2.394")` or `as.character("3.14159")`

Test whether something has a data type with `is.XXX`, e.g. `is.character("fuzzy puppies")` or `is.logical("abcde")`

---

## Basic Data Structures

Data structures hold one or more basic data types and may have multiple dimensions:

   | One type | Multiple Types
-- | -------- | --------------
1D | Atomic vector | List
2D | Matrix | Data frame
nD | Array | 

An individual value ("scalar" in other languages) is a length one vector in R

---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:




```r
## library(tidyverse)
data("mtcars")
str(mtcars)
```

```
## 'data.frame':	32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
```
---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:

```r
data("eurodist")
str(eurodist)
```

```
##  'dist' num [1:210] 3313 2963 3175 3339 2762 ...
##  - attr(*, "Size")= num 21
##  - attr(*, "Labels")= chr [1:21] "Athens" "Barcelona" "Brussels" "Calais" ...
```
---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:

```r
data("discoveries")
str(discoveries)
```

```
##  Time-Series [1:100] from 1860 to 1959: 5 3 0 2 0 3 2 3 6 1 ...
```
---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:

```r
data("occupationalStatus")
str(occupationalStatus)
```

```
##  'table' int [1:8, 1:8] 50 16 12 11 2 12 0 0 19 40 ...
##  - attr(*, "dimnames")=List of 2
##   ..$ origin     : chr [1:8] "1" "2" "3" "4" ...
##   ..$ destination: chr [1:8] "1" "2" "3" "4" ...
```
---

## Basic Data Structures

`str()` can be used to examine a variable and determine its structure:

```r
str(c(5:15))
```

```
##  int [1:11] 5 6 7 8 9 10 11 12 13 14 ...
```

```r
str(month.name)
```

```
##  chr [1:12] "January" "February" "March" "April" "May" "June" "July" ...
```

```r
str(3)
```

```
##  num 3
```

```r
str(mean)
```

```
## function (x, ...)
```

---

## Factors

Some data has both names and a defined numerical ordering:

```r
month.name
```

```
##  [1] "January"   "February"  "March"     "April"     "May"      
##  [6] "June"      "July"      "August"    "September" "October"  
## [11] "November"  "December"
```

Factors are used to store both the numerical values and the associated labels:

```r
factor(month.name)
```

```
##  [1] January   February  March     April     May       June      July     
##  [8] August    September October   November  December 
## 12 Levels: April August December February January July June March ... September
```

By default, R uses alphabetical order for factors...

---

## Factors

```r
factor(month.name)
```

```
##  [1] January   February  March     April     May       June      July     
##  [8] August    September October   November  December 
## 12 Levels: April August December February January July June March ... September
```

By default, R uses alphabetical order for factors...

Set level names to override the default ordering 

```r
months &lt;- factor(month.name, levels = month.name)
months
```

```
##  [1] January   February  March     April     May       June      July     
##  [8] August    September October   November  December 
## 12 Levels: January February March April May June July August ... December
```


---

## Factors

You can access the labels of a factor using `levels()`

```r
levels(months)
```

```
##  [1] "January"   "February"  "March"     "April"     "May"      
##  [6] "June"      "July"      "August"    "September" "October"  
## [11] "November"  "December"
```

You can access the order of the factor using `as.numeric()`:

```r
as.numeric(months)
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12
```

By default, `read.csv` stores strings as factors. Turn this behavior off with `stringAsFactors = F`

---

## Type Conversions

```r
# Get a numeric vector
x &lt;- sample(1:10, 5)
x
```

```
## [1] 10  5  3  1  2
```

```r
# Create factor from numeric vector
fac_x &lt;- factor(x)
fac_x
```

```
## [1] 10 5  3  1  2 
## Levels: 1 2 3 5 10
```

```r
# Convert factor to numeric
as.numeric(fac_x) # Huh?
```

```
## [1] 5 4 3 1 2
```
`as.numeric()` converts factors to their level numbers, not to their labels

---

## Type Conversions


```r
as.character(fac_x)
```

```
## [1] "10" "5"  "3"  "1"  "2"
```

```r
as.numeric(as.character(fac_x))
```

```
## [1] 10  5  3  1  2
```
`as.character()` extracts the labels; you can then use `as.numeric` to get the labels' numeric value.
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
